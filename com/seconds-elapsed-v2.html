<script src="../yo-yo.js"></script>
<script src="../base-classes.js"></script>
<script>
window.customElements.define('seconds-elapsed-v2', class extends FirstBase {
  constructor() {
    super()
    this.interval = null
  }

  static get observedAttributes() {
    return ['tick']
  }

  get tick() {
    return this.getAttribute('tick')
  }

  set tick(v) {
    this.setAttribute('tick', v)
  }

  connectedCallback() {
    this.tick = 0
    this.interval = setInterval(() => {
      this.tick++
    }, 1000)
  }

  disconnectedCallback() {
    clearInterval(this.interval)
  }

  attributeChangedCallback(name, oldValue, newValue) {
    this.render()
  }

  render() {
    yo.update(this.baseEl, yo`<div>Seconds Elapsed: ${this.tick}</div>`)
  }
})
</script>